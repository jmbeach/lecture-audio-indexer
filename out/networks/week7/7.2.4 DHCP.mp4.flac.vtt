00:00.700 --> 00:08.400
The next will discuss a little bit of the detail and how the DHCP protocol Works to dynamically assign IP addresses

00:10.100 --> 00:10.500
So

00:10.500 --> 00:11.900
the problem we're solving is

00:11.900 --> 00:14.000
how do we get an IP address when we don't have one

00:14.000 --> 00:16.300
So how would a host get one

00:16.300 --> 00:19.900
So it could be hard-coated by a system

00:19.900 --> 00:21.900
administrator their ways to do this

00:21.900 --> 00:26.100
So you can manually set the IP of your computer in Windows eunuchs

00:26.100 --> 00:27.000
and other operating systems

00:27.000 --> 00:28.600
However

00:28.600 --> 00:30.600
that's pretty brutal

00:30.600 --> 00:33.600
If you put in the wrong value of things change

00:33.600 --> 00:34.300
So

00:34.300 --> 00:36.400
what's commonly used is called DHCP

00:36.400 --> 00:39.600
which word dynamically find an IP address from a server

00:40.500 --> 00:51.800
So the goal of the DHCP protocol is to allow the host to dynamically find an IP address from the network server when it joins the network

00:51.800 --> 00:52.800
So we could renew this

00:54.500 --> 00:56.300
When a lease expires

00:56.300 --> 00:59.500
so essentially a time to live with how long that address is valid

00:59.500 --> 01:00.500
You could then reuse

01:00.500 --> 01:02.800
addresses support for mobile users

01:02.800 --> 01:06.500
who want to join the network and then leave perhaps

01:06.500 --> 01:12.000
So basically we're going to walk through how DHCP works

01:12.000 --> 01:14.400
This is just a brief overview of it

01:14.400 --> 01:19.600
The hosts could broadcast i d h c p v

01:19.600 --> 01:24.500
c p server would respond with an offer message the hosted request

01:24.500 --> 01:28.900
an IP address and the DHCP server would respond with an acknowledgement

01:30.900 --> 01:33.000
So let's look at this kind of scenario

01:33.000 --> 01:37.100
Let's suppose we have a network setup in this way

01:37.100 --> 01:40.600
We have a few subnet setup

01:40.600 --> 01:45.000
There's a DHCP server connected in one of the subnets and we have a laptop

01:45.000 --> 01:52.900
joining the network and now it needs an IP address so that it can communicate with the local network as well as Beyonce on the internet

01:52.900 --> 01:55.900
So the DHCP server

01:55.900 --> 01:58.700
as he arrived in client gets connected

01:58.700 --> 01:59.800
It realizes

01:59.800 --> 02:01.400
it doesn't have an IP address

02:01.400 --> 02:03.100
So it sends out a broadcast

02:03.100 --> 02:06.600
Is there in a DHCP server available

02:07.900 --> 02:18.800
It would have included some information within that discovery about what it may think

02:18.800 --> 02:22.800
This Source address would be

02:22.800 --> 02:25.400
So the source address of 0000

02:25.400 --> 02:28.400
This would effectively be a broadcast type of address

02:28.400 --> 02:35.200
likewise that destination address of 255, repeated is indicating a broadcast

02:35.200 --> 02:38.100
So the DHCP server would receive that

02:38.100 --> 02:40.200
It would interpreted and say

02:40.200 --> 02:40.500
okay

02:40.500 --> 02:47.100
I'm a DHCP server and it would send a message back and coated with its IP back to everyone

02:47.100 --> 02:51.500
So I can I broadcast cuz it doesn't know how to address that client

02:51.500 --> 02:51.900
because

02:51.900 --> 02:53.300
that client doesn't have an IP address

02:53.300 --> 02:56.600
So then the arrival client would say

02:56.600 --> 02:56.900
okay

02:56.900 --> 02:59.900
I'll take an IP address it again

02:59.900 --> 03:04.000
does this through broadcast because it still doesn't have an IP address assigned yet

03:04.000 --> 03:07.200
Then the DHCP server would respond back with an acknowledgement

03:07.800 --> 03:08.300
Okay

03:08.300 --> 03:10.700
you've got that particular IP address

03:10.700 --> 03:12.500
And now it would have assigned an IP address

03:12.500 --> 03:20.900
but this would have come through this broadcast from the DHCP server because they arrived in client up

03:20.900 --> 03:23.300
Until this particular point in this time flow

03:23.300 --> 03:25.500
didn't have an IP address assigned

03:26.700 --> 03:31.600
So did she pee can do a bit more than just a signing IP addresses

03:31.600 --> 03:35.700
It can return more than just that allocated address on the subnet

03:35.700 --> 03:40.500
I typically would provide a Gateway names and addresses of a DNS server

03:40.500 --> 03:48.400
as well as with the network mask would be so indicating the network versus the host portions of the IP address

03:51.600 --> 03:52.600
So

03:52.600 --> 03:55.600
let's look at another DHCP example

03:55.600 --> 04:00.800
So let's suppose we connect this laptop at needs an IP address of the first top router

04:00.800 --> 04:03.900
And often times up

04:03.900 --> 04:04.700
Rogers said

04:04.700 --> 04:07.300
your home network would have a DHCP server built in

04:07.300 --> 04:09.200
So it would build up this request

04:09.200 --> 04:12.200
It wouldn't capsule8

04:12.200 --> 04:13.300
This say

04:13.300 --> 04:16.200
starting a DHCP realize when you TP

04:16.200 --> 04:22.700
so it would be that transport layer message than an encapsulated into an IP message using the broadcast address

04:22.700 --> 04:25.600
Then sent down on the link layer is an Ethernet

04:25.600 --> 04:35.300
If it's physically plugged in that ethernet frame would get broadcasted to everyone on the land sort of like how in the our protocol worked

04:35.300 --> 04:38.900
This should get received by this router running the DHCP server

04:38.900 --> 04:43.000
I would then get Dakota to its DHCP information

04:43.000 --> 04:47.400
So that beatboxing process would strip off all that header

04:48.000 --> 04:50.300
Information until it gets down to the relevant

04:50.300 --> 04:52.900
DHCP information

04:54.300 --> 04:57.700
The Deep the DHCP server within formulate

04:57.700 --> 05:01.400
an acknowledgement containing the clients IP address

05:01.400 --> 05:03.100
the IP address of the first top

05:03.100 --> 05:03.400
Router

05:03.400 --> 05:05.100
the note itself

05:05.100 --> 05:08.900
the name and IP address of the DNS server

05:08.900 --> 05:13.600
So then encapsulate that back down to the link layer

05:13.600 --> 05:14.100
of course

05:14.100 --> 05:20.500
and send it over to the MAC address corresponding to that particular note

05:20.500 --> 05:21.200
So

05:21.200 --> 05:28.600
the client would now I know it's IP address and the name and address of the DNS server as well as the first top Gateway

05:28.600 --> 05:30.000
router IP address

05:31.200 --> 05:35.100
Let's just look at a little bit of a log recorded from Wireshark

05:35.100 --> 05:38.300
When a Homeland for this process

05:38.300 --> 05:38.500
So

05:38.500 --> 05:40.800
this would be the request from the client in

05:40.800 --> 05:44.900
This would be the reply from the DNS server from the DHCP server

05:44.900 --> 05:46.900
So initially the request

05:46.900 --> 05:47.700
as we can see

05:47.700 --> 05:49.800
maybe a little bit small

05:49.800 --> 05:51.200
but the client IP address is

05:51.200 --> 05:52.700
just assigned is all zeros

05:53.700 --> 05:59.000
And but we do see the MAC address and coded for the client there

05:59.900 --> 06:00.500
Right

06:00.500 --> 06:07.200
So then the reply from the DHCP server would have the IP address and coated in it

06:07.200 --> 06:09.200
Writes for the IP that's been assigned

06:09.200 --> 06:13.100
The gateway address and some of these other components

06:13.100 --> 06:13.200
like

06:13.200 --> 06:14.100
DNS servers

06:14.100 --> 06:15.300
that we've also discussed

06:15.300 --> 06:19.100
So this is my sending out this broadcast information

06:19.100 --> 06:21.200
getting this reply from a DHCP server

06:21.200 --> 06:22.100
On the network

06:22.100 --> 06:24.500
This is how this new no joining

06:24.500 --> 06:26.100
The network would have been assigned

06:26.100 --> 06:27.500
Its IP address